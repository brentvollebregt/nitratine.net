<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" href="/assets/img/favicon.ico">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon"><meta name="theme-color" content="#343a40"><link rel="canonical" href="https://test.nitratine.net/blog/post/randomly-generating-numbers-to-fulfil-an-integer-range/">

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
        <link rel="stylesheet" href="/assets/css/base.css"><!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117153268-2"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-117153268-2');
        </script>
        <title>Randomly Generating Numbers to Fulfil an Integer Range - Nitratine</title>
        <link rel="stylesheet" href="/assets/css/blog.css">
        <link rel="stylesheet" href="/assets/css/pygments.css">

        <meta name="description" content="This experiment looks at how many randoms numbers will need to be generated to fufil an integer range. I use python to generate random numbers and simulate thousands of tests. This was conducted to find the range of 16,777,216 for an app I had developed.">
        <meta name="author" content="Brent Vollebregt">
        <meta property="og:title" content="Randomly Generating Numbers to Fulfil an Integer Range">
        <meta property="og:description" content="This experiment looks at how many randoms numbers will need to be generated to fufil an integer range. I use python to generate random numbers and simulate thousands of tests. This was conducted to find the range of 16,777,216 for an app I had developed.">
        <meta property="og:image" content="/post-assets/randomly-generating-numbers-to-fulfil-an-integer-range/graph2.png">
        <meta property="og:url" content="https://test.nitratine.net/blog/post/randomly-generating-numbers-to-fulfil-an-integer-range/">
        <meta name="twitter:card" content="summary"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({
                      google_ad_client: "ca-pub-6407227183932047",
                      enable_page_level_ads: true
                 });
            </script>
    </head>

    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top ">
            <div class="container">
                <a class="navbar-brand" href="/">
                    <img src="/assets/img/logo.png" width="145" height="30" class="d-inline-block align-top" alt="Brand Icon">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
                        aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item ">
                            <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.youtube.com/PyTutorialsOriginal">YouTube</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/brentvollebregt">GitHub</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="/about/">About</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main role="main" class="container">

            
            <div class="row">
                <div class="col-md-8 blog-main">

                    <h1 class="blog-post-title">Randomly Generating Numbers to Fulfil an Integer Range</h1>
                    <p class="text-muted">
                        <a href="/blog/archive/#2017" class="text-muted">07 Dec 2017</a>
                        <a href="/blog/categories/#Investigations" class="badge badge-primary ml-2">Investigations</a>
                        
                        <a href="/blog/tags/#Python" class="badge badge-warning">Python</a>
                        
                        <img src="https://hitcounter.pythonanywhere.com/count/tag.svg" alt="Hits" class="post-hits">
                    </p>
                    <p class="lead">This experiment looks at how many randoms numbers will need to be generated to fufil an integer range. I use python to generate random numbers and simulate thousands of tests. This was conducted to find the range of 16,777,216 for an app I had developed.</p>
                    <hr>

                    <div class="post-content">
                        <div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#plan">Plan</a></li>
<li><a href="#creating-initial-method">Creating Initial Method</a></li>
<li><a href="#testing-small-numbers">Testing Small Numbers</a><ul>
<li><a href="#bigger-numbers">Bigger Numbers</a></li>
</ul>
</li>
<li><a href="#can-efficiency-be-improved">Can Efficiency Be Improved?</a><ul>
<li><a href="#removing-sort">Removing .sort()</a></li>
<li><a href="#method-to-test">Method to Test</a></li>
<li><a href="#results">Results</a></li>
</ul>
</li>
<li><a href="#threading">Threading</a><ul>
<li><a href="#method">Method</a></li>
<li><a href="#results_1">Results</a></li>
</ul>
</li>
<li><a href="#equation-analysis">Equation Analysis</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<p>I was recently discussing 'stupid' apps with a flatmate and how they do so well on app stores. We were thinking of really stupid apps and had come up with the idea of just changing the colour when a user tapped on the screen. Obviously, there would be more to the app but it seemed very achievable and something fun to make. <a href="/blog/post/colour/">My idea was to generate the colours as hexadecimal values and display them to the user along with the colour</a>. I then thought about making the aim of the app to get all the colours; a user would randomly generate colours until they have gotten them all. With there being 16,777,216 different colours that can be represented using hexadecimal I noticed very quickly that this is very unachievable for a user, but how unachievable really was it?</p>
<h2 id="plan">Plan</h2>
<p>My plan to finding how 'unachievable' the problem is, is to generate random numbers in a range until all individual numbers in that range are generated. This will be done a few times for certain ranges to get averages and then will be plotted to get a line of best fit. With this line of best fit I should be able to predict ranges much larger than I will be testing with.</p>
<h2 id="creating-initial-method">Creating Initial Method</h2>
<p>Sitting in my girlfriend's English lecture at Victoria University seemed like the best place to start this. The plan was to make a definition that took a range integer and randomly generate values until all values in the range were found. It would then return how many generations it took to get all values. To check when I had all values, I sorted the list using pythons built in list sort and then checked if it was identical to a generated list containing 1 to the range in order which was created using the range function in list comprehension.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">get_generation</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="n">aim</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">generation_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">generated</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">gen</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="n">generation_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">gen</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">generated</span><span class="p">:</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">generated</span> <span class="o">==</span> <span class="n">aim</span><span class="p">:</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">generation_count</span>

<span class="n">runs</span> <span class="o">=</span> <span class="mi">1000</span> <span class="c1"># How many runs to get average</span>
<span class="n">min_</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Start</span>
<span class="n">max_</span> <span class="o">=</span> <span class="mi">500</span> <span class="c1"># End</span>
<span class="n">step_</span> <span class="o">=</span> <span class="mi">50</span> <span class="c1"># Step</span>

<span class="n">ranges_to_run</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">step_</span><span class="p">)]</span>
<span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">range_aim</span> <span class="ow">in</span> <span class="n">ranges_to_run</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">runs</span><span class="p">):</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">get_generation</span><span class="p">(</span><span class="n">range_aim</span><span class="p">)</span>

    <span class="k">print</span> <span class="p">(</span><span class="n">range_aim</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">/</span><span class="n">runs</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>


<p>This script was clean and was easy to use; all I had to do was change the four runs, min_, max_ and step_ variables to change looping for average calculation and the integers tested.</p>
<h2 id="testing-small-numbers">Testing Small Numbers</h2>
<p>Initially this script was tested with 1000 runs, min_ of 10, max_ of 500 and a step_ of 50; the results are as follows.</p>
<table>
<thead>
<tr>
<th>Range</th>
<th>Average Number Generations</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>29.522</td>
</tr>
<tr>
<td>60</td>
<td>280.669</td>
</tr>
<tr>
<td>110</td>
<td>580.739</td>
</tr>
<tr>
<td>160</td>
<td>910.13</td>
</tr>
<tr>
<td>210</td>
<td>1264.651</td>
</tr>
<tr>
<td>260</td>
<td>1600.558</td>
</tr>
<tr>
<td>310</td>
<td>1960.173</td>
</tr>
<tr>
<td>360</td>
<td>2326.071</td>
</tr>
<tr>
<td>410</td>
<td>2710.593</td>
</tr>
<tr>
<td>460</td>
<td>3069.874</td>
</tr>
<tr>
<td>510</td>
<td>3477.14</td>
</tr>
<tr>
<td>560</td>
<td>3854.053</td>
</tr>
<tr>
<td>610</td>
<td>4283.64</td>
</tr>
<tr>
<td>660</td>
<td>4683.23</td>
</tr>
<tr>
<td>710</td>
<td>5121.04</td>
</tr>
<tr>
<td>760</td>
<td>5414.062</td>
</tr>
<tr>
<td>810</td>
<td>5865.353</td>
</tr>
<tr>
<td>860</td>
<td>6321.91</td>
</tr>
</tbody>
</table>
<p><img alt="First script results for 10-860" src="/post-assets/randomly-generating-numbers-to-fulfil-an-integer-range/graph1.png" /></p>
<p>This data produced gives a clear pattern and produced a line of best fit with R^2 value of 0.9997 which is excellent. Using this equation to calculate the target value of 16,777,216 I got a value of 3.94x10^11. Even though this is a very large number, it doesn't seem like it is incorrect. There is a slight exponential addition to the equation calculated which will mean that little increases in x will give larger increases in y.  With this looking like a great start I went and tested a couple of bigger numbers.</p>
<h3 id="bigger-numbers">Bigger Numbers</h3>
<p>Due to the time to compute these values, I tested with larger numbers that weren't too much bigger than the previously tested numbers. I tested 1000, 2000, 3000, 4000 and 5000 and compared them to the expected value based off the last equation generated.</p>
<table>
<thead>
<tr>
<th>Range</th>
<th>Average Number Generations</th>
<th>Expected</th>
</tr>
</thead>
<tbody>
<tr>
<td>1000</td>
<td>7469.096</td>
<td>7549.944</td>
</tr>
<tr>
<td>2000</td>
<td>16373.401</td>
<td>17996.44</td>
</tr>
<tr>
<td>3000</td>
<td>25888.327</td>
<td>31242.94</td>
</tr>
<tr>
<td>4000</td>
<td>35629.988</td>
<td>47289.44</td>
</tr>
<tr>
<td>5000</td>
<td>45216.905</td>
<td>66135.944</td>
</tr>
</tbody>
</table>
<p>Looking at this data, the larger the numbers that were tested, the larger the difference between the actual and expected based off the last equation. After adding this data to the last data gathered and graphing it, the new equation is y = 0.0003x2 + 7.8024x - 470.14 with an R^2 of 0.9997. Even though this R^2 value is good, the lower values tested are far off the expected. An example of this difference for 10 being -33.951 for the last equation and -392.09 for this new equation even though the actual value sits around 29.735. This difference however starts to decrease when the range is over 200.</p>
<p><img alt="Results for larger figures of 1000-5000" src="/post-assets/randomly-generating-numbers-to-fulfil-an-integer-range/graph2.png" /></p>
<p>Even with this decrease being fixed, I am going to have to generate much larger ranges to have a chance of being able to predict the target value. Unfortunately, this isn't as easy as it seems as the current method is quite slow.</p>
<h2 id="can-efficiency-be-improved">Can Efficiency Be Improved?</h2>
<p>My first thought to fix this time issue was "Is my method inefficient?". I ran the method for 1000 runs at a 2000 range using the PyCharm profiler as it ran. The results from the profiler are as follows.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Call Count</th>
<th>Time (ms)</th>
<th>Own Time (ms)</th>
<th>Own Time %</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_generation</td>
<td>1000</td>
<td>282050</td>
<td>222018</td>
<td>78.71</td>
</tr>
<tr>
<td>&lt;method 'sort' of 'list' objects&gt;</td>
<td>2000000</td>
<td>29729</td>
<td>29729</td>
<td>10.54</td>
</tr>
<tr>
<td>randrange</td>
<td>16247313</td>
<td>24371</td>
<td>12351</td>
<td>4.38</td>
</tr>
<tr>
<td>_randbelow</td>
<td>16247313</td>
<td>12019</td>
<td>9285</td>
<td>3.29</td>
</tr>
<tr>
<td>randint</td>
<td>16247313</td>
<td>30102</td>
<td>5730</td>
<td>2.03</td>
</tr>
<tr>
<td>&lt;method 'getrandbits' of '_random.Random' objects&gt;</td>
<td>16636543</td>
<td>1972</td>
<td>1972</td>
<td>0.70</td>
</tr>
<tr>
<td>&lt;method 'bit_length' of 'int' objects&gt;</td>
<td>16247313</td>
<td>762</td>
<td>762</td>
<td>0.27</td>
</tr>
<tr>
<td>&lt;method 'append' of 'list' objects&gt;</td>
<td>2000000</td>
<td>134</td>
<td>134</td>
<td>0.05</td>
</tr>
<tr>
<td>&lt;listcomp&gt;</td>
<td>1000</td>
<td>66</td>
<td>66</td>
<td>0.02</td>
</tr>
<tr>
<td>&lt;module&gt;</td>
<td>1</td>
<td>282072</td>
<td>21</td>
<td>0.01</td>
</tr>
<tr>
<td>&lt;listcomp&gt;</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0.00</td>
</tr>
<tr>
<td>&lt;built-in method builtins.print&gt;</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0.00</td>
</tr>
</tbody>
</table>
<p>From this we can see that only 21ms was spent outside the get_generation method which is good, nothing is causing efficiency issues in the function called and small calculations. Ignoring the get_generation method as a whole and looking at the smaller bits of it, we can see that the .sort() method used quite a bit of the time. 10.5% of the total execution time was just sorting the list. There is no issue with excessive calling as 2000*1000 is 2,000,000 which is what it's call count was. This shows that it might be ideal to substitute this with an alternative way of saying that the list is full and breaking.</p>
<p>One idea of substitution I had was to sort the list once it had the desired length and then check against the aim variable. After thinking a bit more I realised I didn't even need the sort function. Since I was making sure the random number generated wasn't in the list before inserting it, I can just check its length. If the length is the same as the amount of numbers it is trying to generate, then it can break. This will completely remove the .sort() method and hopefully reduce execution time and speed things up.</p>
<h3 id="removing-sort">Removing .sort()</h3>
<p>I changed the get_generation method to get rid of the .sort() list function. This new method removes the need for a target list as it compares the length of the list to the target range. If both are equal this means that we have generated all the values in the range and can break out of the loop. This can be done as the list is checked before a value is added to make sure the value isn't in there.</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_generation</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="n">generation_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">generated</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">gen</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="n">generation_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">gen</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">generated</span><span class="p">:</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">generated</span><span class="p">)</span> <span class="o">==</span> <span class="n">r</span><span class="p">:</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">generation_count</span>
</pre></div>


<p>The new results from the profiler while using this method for 1000 runs at a 2000 range are as follows.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Call Count</th>
<th>Time (ms)</th>
<th>Own Time (ms)</th>
<th>Own Time %</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_generation</td>
<td>1000</td>
<td>308617</td>
<td>276438</td>
<td>89.56</td>
</tr>
<tr>
<td>randrange</td>
<td>16389852</td>
<td>25514</td>
<td>13030</td>
<td>4.22</td>
</tr>
<tr>
<td>_randbelow</td>
<td>16389852</td>
<td>12483</td>
<td>9620</td>
<td>3.12</td>
</tr>
<tr>
<td>randint</td>
<td>16389852</td>
<td>31797</td>
<td>6283</td>
<td>2.04</td>
</tr>
<tr>
<td>&lt;method 'getrandbits' of '_random.Random' objects&gt;</td>
<td>16783354</td>
<td>2073</td>
<td>2073</td>
<td>0.67</td>
</tr>
<tr>
<td>&lt;method 'bit_length' of 'int' objects&gt;</td>
<td>16389852</td>
<td>789</td>
<td>789</td>
<td>0.26</td>
</tr>
<tr>
<td>&lt;built-in method builtins.len&gt;</td>
<td>2000000</td>
<td>162</td>
<td>162</td>
<td>.05</td>
</tr>
<tr>
<td>&lt;method 'append' of 'list' objects&gt;</td>
<td>2000000</td>
<td>148</td>
<td>148</td>
<td>0.05</td>
</tr>
<tr>
<td>&lt;listcomp&gt;</td>
<td>1000</td>
<td>69</td>
<td>69</td>
<td>0.02</td>
</tr>
<tr>
<td>&lt;module&gt;</td>
<td>1</td>
<td>308647</td>
<td>29</td>
<td>0.01</td>
</tr>
<tr>
<td>&lt;built-in method builtins.print&gt;</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0.00</td>
</tr>
</tbody>
</table>
<p>Even though this method did take longer to run as shown in the &lt;module&gt; time, we have removed bulk of the .sort() method. This execution time increase would have been due to the fact different numbers were generated.</p>
<h3 id="method-to-test">Method to Test</h3>
<p>To test the two methods, it would be best to 'pull them apart' and use the exact same numbers on them to see what sort of speed increase there really is. My plan is to generate random numbers in a certain range, make sure all numbers in the range are located in the list and then run them through the two methods. This will mean exactly the same data is being passed through to ensure a fairer test. I created a small script to generate random numbers in a range and stop when all the required numbers are present. I moved this method and created modified versions of the methods I was testing allowing them to take in the new list of numbers only. I then timed the two methods. The script and data are as follows.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">generate_testing_data</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="n">generated</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">aim</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">([</span><span class="n">i</span> <span class="ow">in</span> <span class="n">generated</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aim</span><span class="p">]):</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">generated</span>

<span class="k">def</span> <span class="nf">test_new</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">numbers</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">generated</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">gen</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">gen</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">generated</span><span class="p">:</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">generated</span><span class="p">)</span> <span class="o">==</span> <span class="n">r</span><span class="p">:</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">def</span> <span class="nf">test_old</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">numbers</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">aim</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">generated</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">gen</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">gen</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">generated</span><span class="p">:</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">generated</span> <span class="o">==</span> <span class="n">aim</span><span class="p">:</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">generate_testing_data</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">test_old</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="n">old_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">test_new</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="n">new_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="k">print</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">old_time</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">new_time</span><span class="p">)</span>
</pre></div>


<h3 id="results">Results</h3>
<p>I ran this 16 times and recorded the results. All the ranges are 1000 but due to the generation of random numbers, the lengths will be different.</p>
<table>
<thead>
<tr>
<th>Length</th>
<th>Old Method (ms)</th>
<th>New Method(ms)</th>
<th>Difference Gained</th>
</tr>
</thead>
<tbody>
<tr>
<td>10884</td>
<td>0.083470821</td>
<td>0.089237928</td>
<td>-0.005767107</td>
</tr>
<tr>
<td>8740</td>
<td>0.06921196</td>
<td>0.075702429</td>
<td>-0.006490469</td>
</tr>
<tr>
<td>8144</td>
<td>0.061194181</td>
<td>0.06467104</td>
<td>-0.003476858</td>
</tr>
<tr>
<td>8067</td>
<td>0.059659004</td>
<td>0.062694788</td>
<td>-0.003035784</td>
</tr>
<tr>
<td>8031</td>
<td>0.059160709</td>
<td>0.062134027</td>
<td>-0.002973318</td>
</tr>
<tr>
<td>7937</td>
<td>0.059129238</td>
<td>0.061220646</td>
<td>-0.002091408</td>
</tr>
<tr>
<td>7579</td>
<td>0.056650877</td>
<td>0.060160398</td>
<td>-0.003509521</td>
</tr>
<tr>
<td>7572</td>
<td>0.055316925</td>
<td>0.060691118</td>
<td>-0.005374193</td>
</tr>
<tr>
<td>7458</td>
<td>0.061327457</td>
<td>0.063675165</td>
<td>-0.002347708</td>
</tr>
<tr>
<td>7411</td>
<td>0.060157061</td>
<td>0.061663151</td>
<td>-0.00150609</td>
</tr>
<tr>
<td>7273</td>
<td>0.054145336</td>
<td>0.055227518</td>
<td>-0.001082182</td>
</tr>
<tr>
<td>7124</td>
<td>0.055146694</td>
<td>0.057681561</td>
<td>-0.002534866</td>
</tr>
<tr>
<td>7041</td>
<td>0.052210808</td>
<td>0.053673506</td>
<td>-0.001462698</td>
</tr>
<tr>
<td>7018</td>
<td>0.052706957</td>
<td>0.056149721</td>
<td>-0.003442764</td>
</tr>
<tr>
<td>5575</td>
<td>0.042111397</td>
<td>0.043116093</td>
<td>-0.001004696</td>
</tr>
<tr>
<td>5539</td>
<td>0.045147181</td>
<td>0.044615984</td>
<td>0.000531197</td>
</tr>
<tr>
<td>10884</td>
<td>0.083470821</td>
<td>0.089237928</td>
<td>-0.005767107</td>
</tr>
</tbody>
</table>
<p>Unfortunately, these results weren't as good as I had hoped. All but one of the differences are negative, meaning this new method increased the time it took to compute the calculations required.</p>
<h2 id="threading">Threading</h2>
<p>Since this method didn't speed processing up (and if it did, not by much), I decided to turn to threading. Even with its notorious name in Python, I have done a few projects using python threading. To use threading, I plan to call the get_generation method allowing a certain amount of threads at once (can be changed). When a thread completes, I want to put the data in a list somewhere and when all threads for a range is complete, add the data to a CSV file. This can then be used to look at the data with more depth than previous.</p>
<h3 id="method">Method</h3>
<p>After some quick planning, I completed the new script to how I had planned. Some quick testing and formatting of the CSV output then had it ready to be fully run.</p>
<p>This did in fact speed up the process of getting the data but threads were not called as fast as expected and it still did have difficulty on higher numbers. To give a bit of feedback I added a method to look at what was running and provide more useful messages. With this output, I noted that threads were peaking at just over 270, this wasn't currently an issue, just interesting. This was the final script for the threading version.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">Generation_Thread</span><span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_</span><span class="p">,</span> <span class="n">return_class</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Generation_Thread</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">range_</span> <span class="o">=</span> <span class="n">range_</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">return_class</span> <span class="o">=</span> <span class="n">return_class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">status</span><span class="p">(</span><span class="s2">&quot;Starting &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">aim</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">generation_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">generated</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">gen</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_</span><span class="p">)</span>
            <span class="n">generation_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">gen</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">generated</span><span class="p">:</span>
                <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
                <span class="n">generated</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">generated</span> <span class="o">==</span> <span class="n">aim</span><span class="p">:</span>
                    <span class="k">break</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">return_class</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">range_</span><span class="p">,</span> <span class="n">generation_count</span><span class="p">)</span>
        <span class="n">status</span><span class="p">(</span><span class="s2">&quot;Stopping &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ThreadReturn</span><span class="p">():</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_values</span><span class="p">,</span> <span class="n">runs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">range_values</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runs</span> <span class="o">=</span> <span class="n">runs</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_</span><span class="p">,</span> <span class="n">generation_count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">range_</span><span class="p">)]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">generation_count</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">range_</span><span class="p">)])</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">range_</span><span class="p">)</span>
            <span class="n">status</span><span class="p">(</span><span class="s2">&quot;Saved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">range_</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;output.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">range_</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">range_</span><span class="p">)])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">active_threads</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">enumerate</span><span class="p">()</span>
    <span class="n">thread_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">active_threads</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thread</span><span class="p">,</span> <span class="n">Generation_Thread</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="n">range_</span> <span class="o">=</span> <span class="n">thread</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">range_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">thread_data</span><span class="p">:</span>
            <span class="n">thread_data</span><span class="p">[</span><span class="n">range_</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">thread_data</span><span class="p">[</span><span class="n">range_</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thread_data</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">message</span><span class="p">)</span>

<span class="n">runs</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">max_threads</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">range_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">10001</span><span class="p">,</span> <span class="mi">500</span><span class="p">)]</span>

<span class="n">return_class</span> <span class="o">=</span> <span class="n">ThreadReturn</span><span class="p">(</span><span class="n">range_values</span><span class="p">,</span> <span class="n">runs</span><span class="p">)</span>
<span class="n">threads</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">range_value</span> <span class="ow">in</span> <span class="n">range_values</span><span class="p">:</span>
    <span class="n">status</span><span class="p">(</span><span class="s2">&quot;Starting &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">range_value</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">runs</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">threading</span><span class="o">.</span><span class="n">active_count</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">max_threads</span><span class="p">:</span>
                <span class="nb">id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">range_value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">threads</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">Generation_Thread</span><span class="p">(</span><span class="n">range_value</span><span class="p">,</span> <span class="n">return_class</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>
                <span class="n">threads</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="k">break</span>
    <span class="n">status</span><span class="p">(</span><span class="s2">&quot;Started &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">range_value</span><span class="p">))</span>
</pre></div>


<h3 id="results_1">Results</h3>
<p>Once again, the bigger the range, the longer it took to compute. Even with threads, 6000 was a stretch. I decided to bring down the run number to 200 to test some bigger numbers; this will be reflected in the standard error. I understand this will give less accurate data but hopefully it will be accurate enough to give a reasonable line of best fit.</p>
<p>I compared the threading with the original method but running them both at the same time. Interestingly it wasn't that much faster as the threading had completed when the original method had completed 196/200. I will still use the threading method as it has better output and gives more information on current status.</p>
<p>Now having the raw data, I was able to calculate the average, min, max and standard error of each of the samples. Using excel I simply just inserted formulas and then took in the row of data. The data is as follows.</p>
<table>
<thead>
<tr>
<th>Range</th>
<th>Runs</th>
<th>Average</th>
<th>Min</th>
<th>Max</th>
<th>Sth. Err.</th>
</tr>
</thead>
<tbody>
<tr>
<td>500</td>
<td>1000</td>
<td>3392.84</td>
<td>2049</td>
<td>7147</td>
<td>21.42</td>
</tr>
<tr>
<td>1000</td>
<td>1000</td>
<td>7471.59</td>
<td>5059</td>
<td>13448</td>
<td>38.72</td>
</tr>
<tr>
<td>1500</td>
<td>1000</td>
<td>11852.733</td>
<td>8109</td>
<td>25614</td>
<td>60.39</td>
</tr>
<tr>
<td>2000</td>
<td>1000</td>
<td>16449.733</td>
<td>10935</td>
<td>31156</td>
<td>84.25</td>
</tr>
<tr>
<td>2500</td>
<td>1000</td>
<td>20905.963</td>
<td>14183</td>
<td>34315</td>
<td>96.27</td>
</tr>
<tr>
<td>3000</td>
<td>1000</td>
<td>25500.513</td>
<td>17861</td>
<td>45517</td>
<td>113.56</td>
</tr>
<tr>
<td>3500</td>
<td>1000</td>
<td>30508.723</td>
<td>22411</td>
<td>61916</td>
<td>137.92</td>
</tr>
<tr>
<td>4000</td>
<td>1000</td>
<td>35431.821</td>
<td>25825</td>
<td>63598</td>
<td>161.75</td>
</tr>
<tr>
<td>4500</td>
<td>1000</td>
<td>40217.431</td>
<td>28229</td>
<td>64413</td>
<td>176.81</td>
</tr>
<tr>
<td>5000</td>
<td>1000</td>
<td>45216.391</td>
<td>33309</td>
<td>77804</td>
<td>200.87</td>
</tr>
<tr>
<td>6000</td>
<td>200</td>
<td>55676.045</td>
<td>42055</td>
<td>84056</td>
<td>548.92</td>
</tr>
<tr>
<td>7000</td>
<td>200</td>
<td>66404.76</td>
<td>49262</td>
<td>109629</td>
<td>661.75</td>
</tr>
<tr>
<td>8000</td>
<td>200</td>
<td>76281.205</td>
<td>58873</td>
<td>121843</td>
<td>740.33</td>
</tr>
<tr>
<td>9000</td>
<td>200</td>
<td>88607.415</td>
<td>68325</td>
<td>123956</td>
<td>800.37</td>
</tr>
<tr>
<td>10000</td>
<td>200</td>
<td>98259.72</td>
<td>76908</td>
<td>182110</td>
<td>1012.62</td>
</tr>
<tr>
<td>11000</td>
<td>200</td>
<td>109195.375</td>
<td>84138</td>
<td>172973</td>
<td>1047.34</td>
</tr>
<tr>
<td>12000</td>
<td>200</td>
<td>119634.365</td>
<td>88378</td>
<td>162256</td>
<td>989.33</td>
</tr>
</tbody>
</table>
<p><img alt="Results for large data randing 500 to 12000" src="/post-assets/randomly-generating-numbers-to-fulfil-an-integer-range/graph3.png" /></p>
<p>From this data, I discovered that a trendline formula with a power had developed a significant R^2 value and fits visually. I also once again obtained a polynomial function looking similar to the last. These new equations were y = 3.2575x^1.1202 and y = 0.0001x^2 + 8.9649x - 1830.1.</p>
<h2 id="equation-analysis">Equation Analysis</h2>
<p>I now have four equations being:</p>
<ul>
<li>1st Equation: y = 0.0014x^2 + 6.2465x - 96.556</li>
<li>2nd Equation: y = 0.0003x^2 + 7.8024x - 470.14</li>
<li>Large Data Power: y = 3.2575x^1.1202</li>
<li>Large Data Polynomial: y = 0.0001x^2 + 8.9649x - 1830.1</li>
</ul>
<p>With these, I can now take all the data that has been generated and compare it to each of these equations.</p>
<table>
<thead>
<tr>
<th>Range</th>
<th>Runs</th>
<th>Average Match</th>
<th>1st Equation</th>
<th>2nd Equation</th>
<th>Large Data Power</th>
<th>Large Data Polynomial</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>1000</td>
<td>29.7</td>
<td>-34.0</td>
<td>-392.1</td>
<td>-1740.4</td>
<td>43.0</td>
</tr>
<tr>
<td>60</td>
<td>1000</td>
<td>278.4</td>
<td>283.3</td>
<td>-0.9</td>
<td>-1291.8</td>
<td>319.7</td>
</tr>
<tr>
<td>110</td>
<td>1000</td>
<td>584.6</td>
<td>607.5</td>
<td>391.7</td>
<td>-842.8</td>
<td>630.5</td>
</tr>
<tr>
<td>160</td>
<td>1000</td>
<td>910.5</td>
<td>938.7</td>
<td>785.9</td>
<td>-393.2</td>
<td>959.3</td>
</tr>
<tr>
<td>210</td>
<td>1000</td>
<td>1240.0</td>
<td>1276.9</td>
<td>1181.5</td>
<td>56.9</td>
<td>1300.9</td>
</tr>
<tr>
<td>260</td>
<td>1000</td>
<td>1618.5</td>
<td>1622.2</td>
<td>1578.7</td>
<td>507.5</td>
<td>1652.5</td>
</tr>
<tr>
<td>310</td>
<td>1000</td>
<td>1953.6</td>
<td>1974.4</td>
<td>1977.3</td>
<td>958.6</td>
<td>2012.4</td>
</tr>
<tr>
<td>360</td>
<td>1000</td>
<td>2355.6</td>
<td>2333.6</td>
<td>2377.5</td>
<td>1410.2</td>
<td>2379.3</td>
</tr>
<tr>
<td>410</td>
<td>1000</td>
<td>2731.2</td>
<td>2699.8</td>
<td>2779.1</td>
<td>1862.3</td>
<td>2752.5</td>
</tr>
<tr>
<td>460</td>
<td>1000</td>
<td>3092.8</td>
<td>3073.1</td>
<td>3182.3</td>
<td>2314.9</td>
<td>3131.2</td>
</tr>
<tr>
<td>510</td>
<td>1000</td>
<td>3482.8</td>
<td>3453.3</td>
<td>3586.9</td>
<td>2768.0</td>
<td>3514.8</td>
</tr>
<tr>
<td>560</td>
<td>1000</td>
<td>3862.0</td>
<td>3840.5</td>
<td>3993.1</td>
<td>3221.6</td>
<td>3903.1</td>
</tr>
<tr>
<td>610</td>
<td>1000</td>
<td>4256.9</td>
<td>4234.7</td>
<td>4400.7</td>
<td>3675.7</td>
<td>4295.5</td>
</tr>
<tr>
<td>660</td>
<td>1000</td>
<td>4669.0</td>
<td>4636.0</td>
<td>4809.9</td>
<td>4130.3</td>
<td>4691.8</td>
</tr>
<tr>
<td>710</td>
<td>1000</td>
<td>5070.3</td>
<td>5044.2</td>
<td>5220.5</td>
<td>4585.4</td>
<td>5091.7</td>
</tr>
<tr>
<td>760</td>
<td>1000</td>
<td>5444.0</td>
<td>5459.4</td>
<td>5632.7</td>
<td>5041.0</td>
<td>5495.1</td>
</tr>
<tr>
<td>810</td>
<td>1000</td>
<td>5868.0</td>
<td>5881.6</td>
<td>6046.3</td>
<td>5497.1</td>
<td>5901.6</td>
</tr>
<tr>
<td>860</td>
<td>1000</td>
<td>6356.6</td>
<td>6310.9</td>
<td>6461.5</td>
<td>5953.7</td>
<td>6311.2</td>
</tr>
<tr>
<td>910</td>
<td>1000</td>
<td>6736.2</td>
<td>6747.1</td>
<td>6878.1</td>
<td>6410.8</td>
<td>6723.6</td>
</tr>
<tr>
<td>960</td>
<td>1000</td>
<td>7147.9</td>
<td>7190.3</td>
<td>7296.3</td>
<td>6868.4</td>
<td>7138.8</td>
</tr>
<tr>
<td>1000</td>
<td>1000</td>
<td>7469.1</td>
<td>7549.9</td>
<td>7631.9</td>
<td>7234.8</td>
<td>7472.8</td>
</tr>
<tr>
<td>1500</td>
<td>1000</td>
<td>11852.7</td>
<td>12423.2</td>
<td>11907.9</td>
<td>11842.3</td>
<td>11769.1</td>
</tr>
<tr>
<td>2000</td>
<td>1000</td>
<td>16373.4</td>
<td>17996.4</td>
<td>16333.9</td>
<td>16499.7</td>
<td>16244.2</td>
</tr>
<tr>
<td>2500</td>
<td>1000</td>
<td>20906.0</td>
<td>24269.7</td>
<td>20909.9</td>
<td>21207.2</td>
<td>20857.2</td>
</tr>
<tr>
<td>3000</td>
<td>1000</td>
<td>25888.3</td>
<td>31242.9</td>
<td>25635.9</td>
<td>25964.6</td>
<td>25583.2</td>
</tr>
<tr>
<td>3500</td>
<td>1000</td>
<td>30508.7</td>
<td>38916.2</td>
<td>30511.9</td>
<td>30772.1</td>
<td>30405.3</td>
</tr>
<tr>
<td>4000</td>
<td>1000</td>
<td>35630.0</td>
<td>47289.4</td>
<td>35537.9</td>
<td>35629.5</td>
<td>35311.2</td>
</tr>
<tr>
<td>4500</td>
<td>1000</td>
<td>40217.4</td>
<td>56362.7</td>
<td>40713.9</td>
<td>40537.0</td>
<td>40291.5</td>
</tr>
<tr>
<td>5000</td>
<td>1000</td>
<td>45216.9</td>
<td>66135.9</td>
<td>46039.9</td>
<td>45494.4</td>
<td>45338.9</td>
</tr>
<tr>
<td>6000</td>
<td>200</td>
<td>55676.0</td>
<td>87782.4</td>
<td>57141.9</td>
<td>55559.3</td>
<td>55612.1</td>
</tr>
<tr>
<td>7000</td>
<td>200</td>
<td>66404.8</td>
<td>112228.9</td>
<td>68843.9</td>
<td>65824.2</td>
<td>66094.2</td>
</tr>
<tr>
<td>8000</td>
<td>200</td>
<td>76281.2</td>
<td>139475.4</td>
<td>81145.9</td>
<td>76289.1</td>
<td>76758.4</td>
</tr>
<tr>
<td>9000</td>
<td>200</td>
<td>88607.4</td>
<td>169521.9</td>
<td>94047.9</td>
<td>86954.0</td>
<td>87584.4</td>
</tr>
<tr>
<td>10000</td>
<td>200</td>
<td>98259.7</td>
<td>202368.4</td>
<td>107549.9</td>
<td>97818.9</td>
<td>98556.3</td>
</tr>
<tr>
<td>11000</td>
<td>200</td>
<td>109195.4</td>
<td>238014.9</td>
<td>121651.9</td>
<td>108883.8</td>
<td>109661.1</td>
</tr>
<tr>
<td>12000</td>
<td>200</td>
<td>119634.4</td>
<td>276461.4</td>
<td>136353.9</td>
<td>120148.7</td>
<td>120888.0</td>
</tr>
</tbody>
</table>
<p>Looking at this table, we can see that the two large data equations have a much better guess to the actual values than the previous two equations. This is because the equations have been formed with more data allowing them to be able to guess larger values more accurately. I will then compare the difference between the average values and the last two equations on a graph.</p>
<p><img alt="Difference for large data equations" src="/post-assets/randomly-generating-numbers-to-fulfil-an-integer-range/graph4.png" /></p>
<h2 id="conclusion">Conclusion</h2>
<p>By looking at the graph, it appears that the large data polynomial equation was the best at predicting the averages. At about 1500 the equations start to be a bit unreliable but are still staying reasonable close being at most 13% in extreme cases away from the average. This would be because I didn't do enough tests to calculate averages and this theory is definitely shows when the tests go above a range of 6000 as that is where I only calculated averages based off 200 runs due to the time to run the tests.</p>
<p>Thus, from these tests, I believe the most reliable equation to test the range of 16,777,216 with is y = 0.0001x^2 + 8.9649x - 1830.1.</p>
<p>And then the calculation; y = 0.0001<em>(16777216)^2 + 8.9649</em>(16777216) - 1830.1, y = 28,297,901,904.684002</p>
<p>28 and a quarter billion is still a very big number but a large number was expected. If someone could keep a rate of 400 taps per minute (it would get much slower over time but this is theoretical), it would take them over 134 and a half years to reach this number on average. Even if someone got lucky and had little duplicates compared to an average, I feel this game (Colour) would still not be possible to achieve in anyone lifetime currently.</p>
<p>The data from this investigation can be downloaded here (xlsx 109KB)</p>
                    </div>







                    
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function() {
                            this.page.url = 'https://test.nitratine.net/blog/post/randomly-generating-numbers-to-fulfil-an-integer-range/'; // Your page's canonical URL variable
                            this.page.identifier = 'https://test.nitratine.net/blog/post/randomly-generating-numbers-to-fulfil-an-integer-range/'; // Your page's unique identifier variable
                        };
                        (function() {
                            var d = document,
                                s = d.createElement('script');
                            s.src = '//nitratine.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
                    

                </div>

                                <!-- Sidebar -->
                <aside class="col-md-4 blog-sidebar">

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">About</h4>
                        <p class="mb-0">Owner of <a href="https://www.youtube.com/PyTutorialsOriginal">PyTurorials</a> and creator of <a href="https://github.com/brentvollebregt/auto-py-to-exe">auto-py-to-exe</a>. I enjoy making quick tutorials for people new to particular topics in Python and  tools that help fix small things.</p>
                    </div>

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">Categories</h4>
                        <ol class="list-unstyled mb-0 text-center text-lg-left">
                            <li>
                                <a href="/blog/categories/#YouTube">
                                     YouTube
                                    <span class="badge badge-primary ml-3">14</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Projects">
                                     Projects
                                    <span class="badge badge-primary ml-3">12</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Tutorials">
                                     Tutorials
                                    <span class="badge badge-primary ml-3">8</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Apps">
                                     Apps
                                    <span class="badge badge-primary ml-3">2</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Investigations">
                                     Investigations
                                    <span class="badge badge-primary ml-3">2</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#General">
                                     General
                                    <span class="badge badge-primary ml-3">4</span>
                                </a>
                            </li>
                        </ol>
                    </div>

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">PyTutorials on YouTube</h4>
                        <script src="https://apis.google.com/js/platform.js"></script>
                        <div style="text-align: center">
                            <div class="g-ytsubscribe" data-channel="PrivateSplat" data-layout="full" data-count="default"></div>
                        </div>
                    </div>

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">Recent Videos</h4>
                        <div id="recent-yt-videos" class="yt_video_container"></div>
                    </div>

                    <script>
                        let youtube_data_api_key = 'AIzaSyDz6QJ7H1Ca575XwvKnO8Q4MVATUxLdHYM';
                        let youtube_channel_id = 'UCesEknt3SRX9R9W_f93Tb7g';
                    </script>
                    <script type="text/javascript" defer src="/assets/js/getRecentYouTubeVideos.js"></script>

                </aside>

            </div>


        </main>

        <!-- Bootstrap -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    </body>
</html>