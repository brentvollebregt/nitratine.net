<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" href="/assets/img/favicon.ico">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon"><meta name="theme-color" content="#343a40"><link rel="canonical" href="https://test.nitratine.net/blog/post/common-issues-when-using-auto-py-to-exe/">

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
        <link rel="stylesheet" href="/assets/css/base.css"><!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117153268-2"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-117153268-2');
        </script>
        <title>Common Issues When Using auto-py-to-exe - Nitratine</title>
        <link rel="stylesheet" href="/assets/css/blog.css">
        <link rel="stylesheet" href="/assets/css/pygments.css">

        <meta name="description" content="In this post I go over how to install auto-py-to-exe, talk about how it works and demonstrate how to use it. I will also cover commonly asked questions and issues that people run into and how to fix them.">
        <meta name="author" content="Brent Vollebregt">
        <meta property="og:title" content="Common Issues When Using auto-py-to-exe">
        <meta property="og:description" content="In this post I go over how to install auto-py-to-exe, talk about how it works and demonstrate how to use it. I will also cover commonly asked questions and issues that people run into and how to fix them.">
        <meta property="og:image" content="/post-assets/common-issues-when-using-auto-py-to-exe/feature.png">
        <meta property="og:url" content="https://test.nitratine.net/blog/post/common-issues-when-using-auto-py-to-exe/">
        <meta name="twitter:card" content="summary"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({
                      google_ad_client: "ca-pub-6407227183932047",
                      enable_page_level_ads: true
                 });
            </script>
    </head>

    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top ">
            <div class="container">
                <a class="navbar-brand" href="/">
                    <img src="/assets/img/logo.png" width="145" height="30" class="d-inline-block align-top" alt="Brand Icon">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
                        aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item ">
                            <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.youtube.com/PyTutorialsOriginal">YouTube</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/brentvollebregt">GitHub</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="/about/">About</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main role="main" class="container">

            
            <div class="row">
                <div class="col-md-8 blog-main">

                    <h1 class="blog-post-title">Common Issues When Using auto-py-to-exe</h1>
                    <p class="text-muted">
                        <a href="/blog/archive/#2018" class="text-muted">16 Sep 2018</a>
                        <a href="/blog/categories/#General" class="badge badge-primary ml-2">General</a>
                        
                        <a href="/blog/tags/#Python" class="badge badge-warning">Python</a>
                        
                        <a href="/blog/tags/#pyinstaller" class="badge badge-warning">pyinstaller</a>
                        
                        <img src="https://hitcounter.pythonanywhere.com/count/tag.svg" alt="Hits" class="post-hits">
                    </p>
                    <p class="lead">In this post I go over how to install auto-py-to-exe, talk about how it works and demonstrate how to use it. I will also cover commonly asked questions and issues that people run into and how to fix them.</p>
                    <hr>

                    <div class="post-content">
                        <div class="toc">
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#what-does-pyinstaller-do">What Does PyInstaller Do?</a><ul>
<li><a href="#the-difference-between-one-directory-and-one-file">The Difference Between One Directory and One File</a><ul>
<li><a href="#demonstration-of-files-being-extracted">Demonstration of Files Being Extracted</a><ul>
<li><a href="#running-this-un-packaged-py">Running this un-packaged (.py)</a></li>
<li><a href="#running-this-when-packaged-using-one-directory">Running this when packaged using one directory</a></li>
<li><a href="#running-this-when-packaged-using-one-file">Running this when packaged using one file</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#console-vs-window-based">Console vs. Window Based</a></li>
</ul>
</li>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#general-questions">General Questions</a><ul>
<li><a href="#how-can-i-make-two-executables-use-the-same-file">How Can I Make Two Executables Use the Same File?</a></li>
<li><a href="#the-console-just-appears-and-disappears">The Console Just Appears And Disappears</a></li>
<li><a href="#permissions-denied">Permissions Denied?</a></li>
</ul>
</li>
</ul>
</div>
<p>The point of this post is to help people understand why they are having their issues. If you have an issue when converting py to exe with PyInstaller to auto-py-to-exe, comment below and if it is a common issue I will add it to this post.</p>
<h2 id="installation">Installation</h2>
<p>First make sure you have Python 2.7 or above. Currently auto-py-to-exe supports up to and including Python 3.7.
You can check if any others versions of Python are supported by going to the <a href="https://github.com/brentvollebregt/auto-py-to-exe">projects GitHub page</a>.</p>
<p>Open cmd and execute <code>python -m pip install auto-py-to-exe</code>. Wait for this to finish and make sure that the last line contains "Successfully installed auto-py-to-exe" dash some version. You might get a message about your version of pip but you can ignore it. If you got an error saying python isn't recognised as a command then make sure the directory that python.exe is located in is in your PATH variable; you can look at some solutions <a href="https://stackoverflow.com/questions/17953124/python-is-not-recognized-as-an-internal-or-external-command">here</a> if you are unsure how to do that.</p>
<p>Ideally you will also want chrome installed but this is not a mus; it will open in your default browser and the only thing different will be the interface size if you don't have chrome.</p>
<p>To make sure you have installed auto-py-to-exe correctly, go back into cmd and execute <code>auto-py-to-exe</code>; this should open the interface.</p>
<h2 id="what-does-pyinstaller-do">What Does PyInstaller Do?</h2>
<p>auto-py-to-exe uses PyInstaller to package the Python interpreter, required files, your Python files and any other files you supply it into a package which can be run by running the executable produced. This means it will look at the script you provide as the starting point and then look at the imports recursively finding what Python modules it needs to include. So if you have created your own Python scripts and imported them, they will be packaged like any other Python module.</p>
<p>PyInstaller does not find other files like images and data files due to the possible dynamic nature of the files. To add files like images or data files, they need to be added in the interface as I will show soon.</p>
<h3 id="the-difference-between-one-directory-and-one-file">The Difference Between One Directory and One File</h3>
<p>One directory puts all your files in one folder. You can easily add and remove files like you normally would in a folder. When your script modifies a file in it's folder, the file will stay changed when you run the script again.</p>
<p>One file mode is a bit different, instead of putting all the files in a folder, it puts them in something like a zip file which is contained in the end executable. When you run the executable, the files contained internally are unpacked to a new temporary directory. Due to one file unpacking on startup, it is a lot slower to start.</p>
<p>Also due to the files being unpacked to a new temporary directory on execution, your modified/added files will not be there on the next run because they are now in a different unknown folder. This means when creating files, you will want to use an absolute path that is not where the project files are (could use something like APPDATA on Windows).</p>
<p>When packaging a script for the first time, I recommend to use one directory and make sure there are no errors. After that you can then package it to one file and solve any issues, using this method. Remember you don't have to make a package one file, a lot of the time it is better to leave as one directory.</p>
<blockquote>
<p>Do remember that when using relative directories for file names, these are <strong>relative to the current working directory</strong>, not the location of the programs files. This is exactly the same as when you use a Python script normally. So depending on where you run the executable from, relative files my end up in different places.</p>
</blockquote>
<h4 id="demonstration-of-files-being-extracted">Demonstration of Files Being Extracted</h4>
<p>I made a small Python file that finds where it is located and then tries to print the contents of a file if it exists otherwise will create a new one.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">os</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s1">&#39;frozen&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span> <span class="c1"># we are running in a bundle</span>
    <span class="n">bundle_dir</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">_MEIPASS</span> <span class="c1"># This is where the files are unpacked to</span>
<span class="k">else</span><span class="p">:</span> <span class="c1"># normal Python environment</span>
    <span class="n">bundle_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>

<span class="k">print</span> <span class="p">(</span><span class="s1">&#39;Location : &#39;</span> <span class="o">+</span> <span class="n">bundle_dir</span><span class="p">)</span> <span class="c1"># Where the base file exists</span>

<span class="nb">file</span> <span class="o">=</span> <span class="n">bundle_dir</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">test.txt&#39;</span>
<span class="k">print</span> <span class="p">(</span><span class="s1">&#39;File is at: &#39;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="nb">file</span><span class="p">))</span> <span class="c1"># Absolute path of target file</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">print</span> <span class="p">(</span><span class="s1">&#39;Contents:</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span> <span class="c1"># Print contents of file if it exists</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="p">(</span><span class="s1">&#39;Created a new file&#39;</span><span class="p">)</span> <span class="c1"># Create a file if it doesn&#39;t exist</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;New Line</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1"># Add a new line to see if is there next time</span>

<span class="nb">input</span><span class="p">()</span> <span class="c1"># Block to keep terminal alive</span>
</pre></div>


<h5 id="running-this-un-packaged-py">Running this un-packaged (.py)</h5>
<p>The first time it will create a file beside the script. Every time it is run, the new line will be added and this will be shown in the output. This means When you modify a file, it will stay modified.</p>
<h5 id="running-this-when-packaged-using-one-directory">Running this when packaged using one directory</h5>
<p>The first time it will create a file in the directory (which will be beside the .exe). Every time it is run, the new line will be added and this will be shown in the output. This means When you modify a file, it will stay modified.</p>
<h5 id="running-this-when-packaged-using-one-file">Running this when packaged using one file</h5>
<p>Every time this is run, it will create a new file in the temporary directory. This occurs because the .exe unpacks to a new directory every time it is run, so instead of finding old files (which can disappear any time because they are in the temp folder) you may as well use an absolute reference to somewhere else.</p>
<h3 id="console-vs-window-based">Console vs. Window Based</h3>
<p>The second set of buttons in the GUI is to choose whether your script should show a console. If you don't need to show a console then you can select the window based button.</p>
<p>If you are debugging at all, you will need to keep the console based button selected to output is directed to the console instead of pop-up windows for each line.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>So finally, now that all of that is out of the way, you can package something.</p>
<p>First open the GUI using the command <code>auto-py-to-exe</code> and search for your file. The input box outline will become blue when the file exists. Next select one directory or one file and if you want a console window.</p>
<p>You can then add an icon if you want by expanding the icon section (click on the chevron) and search for a .ico file. Make sure you not don't just rename an image file to .ico, extensions basically mean nothing so doing this will do nothing except cause errors. Convert png/jpeg/bmp to ico properly using online tools. (I see way too many people think this is ok).</p>
<p>If your script uses any external files like images or data files that are not Python files (.py, .pyw....), you must add them in the "Additional Files" section; if you do not do this, PyInstaller will not package those files. You can choose to add multiple files, a single folder or manually add them. The input box to the left is where the files are coming from and the input box to the right of it is the destination. Keep the destination paths relative to the root of the script, so that means if you want an image right beside the executable, use '.' and if you want a file in images/ then put 'images/' into the input box.</p>
<blockquote>
<p>If you use a file in the "Additional Files" section, this references all the images in the folder. This means every individual file will be moved to the destination individually. To keep the files in a folder still, use the folder name as the destination (don't forget /).</p>
</blockquote>
<h2 id="debugging">Debugging</h2>
<p>As with any sort of development, bugs will occur and debugging will need to take place. To enable debugging, go into the "Advanced" section and under the title "How to generate" put 'all' in the box beside --debug. This will print out messages to the console to help you debug.</p>
<p>When debugging, make sure you selected the "Console Based" button and using "One Directory" will help remove basic problems; you can switch back to "One File" when there are no more bugs and then fix the ones associated with "One File".</p>
<p>After re-packaging your project, open up cmd, use the cd command to change directories to where the exe is located and then execute <code>./my_project.exe</code> (substitute the names). This will run the executable file and any errors you were missing before will be output to the console.</p>
<p>Fix the errors that appeared and then re-package. Keep executing with debugging mode and fixing errors until there are no more errors.</p>
<h2 id="general-questions">General Questions</h2>
<p>Here is a list of general questions I get asked a lot and the answers to them</p>
<h3 id="how-can-i-make-two-executables-use-the-same-file">How Can I Make Two Executables Use the Same File?</h3>
<p>You will need to construct a path before packaging them that both scripts agree on. Now both scripts can write/modify files in that path and the other executable will know where to find them.</p>
<h3 id="the-console-just-appears-and-disappears">The Console Just Appears And Disappears</h3>
<p>People that use IDLE all the time don't always understand that these scripts don't wait for the user; once they are finished, they finish. What's occurring is either your script is causing an error (which you would have found out with --debug so this question isn't for you) or it has just finished. One way to check if the latter is occurring is to put <code>input()</code> at the end of your script. Now when it finishes, it will wait for you to press enter because input() is a blocking statement (.run() methods for servers are generally blocking so that is why they don't end).</p>
<h3 id="permissions-denied">Permissions Denied?</h3>
<p>You are most likely running in a directory where you haven't given the script enough privileges to modify files. Run auto-py-to-exe using a cmd with admin privileges so it can modify these files.</p>
                    </div>







                    
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function() {
                            this.page.url = 'https://test.nitratine.net/blog/post/common-issues-when-using-auto-py-to-exe/'; // Your page's canonical URL variable
                            this.page.identifier = 'https://test.nitratine.net/blog/post/common-issues-when-using-auto-py-to-exe/'; // Your page's unique identifier variable
                        };
                        (function() {
                            var d = document,
                                s = d.createElement('script');
                            s.src = '//nitratine.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
                    

                </div>

                                <!-- Sidebar -->
                <aside class="col-md-4 blog-sidebar">

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">About</h4>
                        <p class="mb-0">Owner of <a href="https://www.youtube.com/PyTutorialsOriginal">PyTurorials</a> and creator of <a href="https://github.com/brentvollebregt/auto-py-to-exe">auto-py-to-exe</a>. I enjoy making quick tutorials for people new to particular topics in Python and  tools that help fix small things.</p>
                    </div>

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">Categories</h4>
                        <ol class="list-unstyled mb-0 text-center text-lg-left">
                            <li>
                                <a href="/blog/categories/#YouTube">
                                    üé• YouTube
                                    <span class="badge badge-primary ml-3">14</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Projects">
                                    üíæ Projects
                                    <span class="badge badge-primary ml-3">12</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Tutorials">
                                    üìñ Tutorials
                                    <span class="badge badge-primary ml-3">8</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Apps">
                                    üì± Apps
                                    <span class="badge badge-primary ml-3">2</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#Investigations">
                                    üîç Investigations
                                    <span class="badge badge-primary ml-3">2</span>
                                </a>
                            </li>
                            <li>
                                <a href="/blog/categories/#General">
                                    üì∞ General
                                    <span class="badge badge-primary ml-3">4</span>
                                </a>
                            </li>
                        </ol>
                    </div>

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">PyTutorials on YouTube</h4>
                        <script src="https://apis.google.com/js/platform.js"></script>
                        <div style="text-align: center">
                            <div class="g-ytsubscribe" data-channel="PrivateSplat" data-layout="full" data-count="default"></div>
                        </div>
                    </div>

                    <div class="card p-3 mb-3 bg-light">
                        <h4 class="text-center text-lg-left">Recent Videos</h4>
                        <div id="recent-yt-videos" class="yt_video_container"></div>
                    </div>

                    <script>
                        let youtube_data_api_key = 'AIzaSyDz6QJ7H1Ca575XwvKnO8Q4MVATUxLdHYM';
                        let youtube_channel_id = 'UCesEknt3SRX9R9W_f93Tb7g';
                    </script>
                    <script type="text/javascript" defer src="/assets/js/getRecentYouTubeVideos.js"></script>

                </aside>

            </div>


        </main>

        <!-- Bootstrap -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    </body>
</html>